<div class="container">
  <div class="header-card">
    <h1>Gestion des Ch√®ques</h1>
    <p>Saisissez les informations des ch√®ques. Une nouvelle ligne s'ajoute automatiquement.</p>
  </div>

  <div class="table-wrapper">
    <table class="cheque-table">
      <thead>
        <tr>
          <th>Formule CHQ</th>
          <th>Date Ch√®que</th>
          <th>Num√©ro Ch√®que</th>
          <th>Banque</th>
          <th>Code Analytique</th>
          <th>Libell√© Ordre</th>
          <th>Nature Ordre</th>
          <th>Date Facture</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of rows; let i = index" [class.even]="i % 2 === 0">
          <td>
            <input type="text"
                   [(ngModel)]="row.formuleChq"
                   (input)="onInputChange(row)"
                   placeholder="Ex: 0"
                   aria-label="Formule CHQ">
          </td>
          <td>
            <input type="date"
                   [(ngModel)]="row.dateCheque"
                   (change)="onInputChange(row)"
                   aria-label="Date Ch√®que">
          </td>
          <td>
            <input type="text"
                   [(ngModel)]="row.numeroCheque"
                   (input)="onInputChange(row)"
                   placeholder="Ex: 318406"
                   aria-label="Num√©ro Ch√®que">
          </td>
          <td>
            <select [(ngModel)]="row.banque"
                    (change)="onInputChange(row)"
                    aria-label="Banque">
              <option value="">S√©lectionner...</option>
              <option *ngFor="let banque of banques" [value]="banque">{{banque}}</option>
            </select>
          </td>
          <td>
            <input type="text"
                   [(ngModel)]="row.codeAnalytique"
                   (input)="onInputChange(row)"
                   placeholder="Ex: CHPH02"
                   aria-label="Code Analytique">
          </td>
          <td>
            <input type="text"
                   [(ngModel)]="row.libelleOrdre"
                   (input)="onInputChange(row)"
                   placeholder="Description..."
                   aria-label="Libell√© Ordre">
          </td>
          <td>
            <input type="text"
                   [(ngModel)]="row.natureOrdre"
                   (input)="onInputChange(row)"
                   placeholder="Ex: REGLEMENT FOURNISSEUR"
                   aria-label="Nature Ordre">
          </td>
          <td>
            <input type="date"
                   [(ngModel)]="row.dateFacture"
                   (change)="onInputChange(row)"
                   aria-label="Date Facture">
          </td>
          <td class="action-cell">
            <button (click)="deleteRow(row.id)"
                    [disabled]="rows.length === 1"
                    class="btn-delete"
                    aria-label="Supprimer la ligne">
              üóëÔ∏è
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="footer">
    <button (click)="addNewRow()" class="btn-add">
      ‚ûï Ajouter une ligne
    </button>
    <div class="total">Total: {{rows.length}} ligne(s)</div>
  </div>
</div>
